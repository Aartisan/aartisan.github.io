<!DOCTYPE html>
<html>
	<head>
		<!-- @Author: Ray -->
		<meta charset="utf-8" />
		<title>Git Flow | Ray's Blog</title>
		<meta name="author" content="Ray" />
		<meta name="description" content="Ray's Blog" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0">
		<link rel="stylesheet" href="/css/default.css" type="text/css" />
		<link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />
		<link rel="alternate" type="application/atom+xml" title="Recent Entries" href="" />
		<script src="/js/jquery-1.7.1.min.js" type="text/javascript"></script>
	</head>
	<body>

		<div class="home-menu">
			<div class="home-icon-con">
				<a class="home-menu-icon" href="/about.html">Ray</a>
				<a class="home-follow" href="#" title="Contact Me">+</a>
			</div>
			<div class="home-contact">
				<a href="http://weibo.com/1823913804" target="_blank" style="text-align: center">
					<img src="/images/weibo.ico" alt="" width="25"/></a>
				<a href="http://www.github.com/aartisan" target="_blank" style="text-align: center">
					<img src="/images/github.ico" alt="" width="25"/></a>
				<a href="http://instagram.com/ray_vendetta" target="_blank" style="text-align: center">
					<img src="/images/instagram.ico" alt="" width="25"/></a>
			</div>
		</div>

		<link rel="stylesheet" href="/js/prettify/prettify.css" />
<style type="text/css">
  body { background:#e8e8e8; }
  @media screen and (max-width: 750px){
    body { background:#fff; }
  }
  @media screen and (max-width: 1020px){
    body { background:#fff; }
  }
</style>

<div id="content">
  <div class="entry">
    <h1 class="entry-title"><a href="/code/git-flow" title="Git Flow">Git Flow</a></h1>
    <p class="entry-date">2014-02-20</p>
    <p>Git想必大家都很熟悉是什么个东西，就不在废话。今天说的是<strong>Git Flow</strong></p>

<p>git-flow 是一个 git 扩展集，按 Vincent Driessen 的分支模型提供高层次的库操作。<br>
<img src="http://ihower.tw/blog/wp-content/uploads/2011/02/Screen-shot-2009-12-24-at-11.32.03.png" alt="image"><br>
<a href="http://nvie.com/posts/a-successful-git-branching-model/">查看详情</a>  </p>

<ul>
<li>主要分支

<ol>
<li>master: 永远处于production-ready状态，也就是最新版本的主分支</li>
<li>develop: 下次发布的开发开发分支</li>
</ol></li>
<li>特性分支

<ol>
<li>feature branches: 开发功能的特性分支，从develop分支checkout生成，完成并且测试之后merge到develop</li>
<li>release branches: 准备要发布的release版本。只修改bugs，从develop分支checkout生成，完成后merge回develop与master</li>
<li>hotfix branches: 补丁分支，来不及等到新的release版本发布，马上修改上线，会从master分支checkout生成，修改后merge回develop与master</li>
</ol></li>
</ul>

<h3>安装</h3>

<ul>
<li>你需要有一个可以工作的 git 作为前提。</li>
<li>Git flow 可以工作在 OSX, Linux 和 Windows之下</li>
</ul>
<div class="highlight"><pre><code class="text language-text" data-lang="text">**OSX** brew install git-flow
**Linux** apt-get install git-flow
**Windown** wget -q -O - --no-check-certificate https://github.com/nvie/gitflow/raw/develop/contrib/gitflow-installer.sh | bash
</code></pre></div>
<h3>初始化</h3>

<p>在git的项目顶目录执行</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text">git flow init
</code></pre></div>
<p>会有一部分确认命令，大致是</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text">No branches exist yet. Base branches must be created now.
Branch name for production releases: [master] 
Branch name for &quot;next release&quot; development: [develop] 
How to name your supporting branch prefixes?
Feature branches? [feature/] 
Release branches? [release/] 
Hotfix branches? [hotfix/] 
Support branches? [support/] 
Version tag prefix? []
</code></pre></div>
<p>设定完成之后预设的分支就会变为develop分支</p>

<h3>开发新功能，建立新的特性feature分支</h3>

<p>执行</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text">git flow feature start NEWFEATURE
(以此类推 git flow release 和 git flow hotfix)
</code></pre></div>
<p>这会帮你创建一个新的分支，分支是从develop分支。</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text">git flow feature publish NEWFEATURE (此命令会将本地分支推送到服务器)
git flow feature finish NEWFEATURE （此命令会将分支merge到develop，并且删除当前分支）
</code></pre></div>
<p>如需要track别人的分支使用</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text">git flow feature track NEWFEATURE
</code></pre></div>
<h3>问题记录</h3>

<ul>
<li>如果某个同时开发2个的特兴分支，一个需要延后 一个需要上线，但是都merge到develop那么办法是将需要上线的feature分支改为hotfix分支之后进行finish。</li>
<li>如果使用github或者gitbucket的远端 尽量务必使用pull request功能，branch完成开发一个pull request之后，大家可以进行code review留言，讨论。</li>
</ul>


    <div id="disqus_container">
      <div style="margin-bottom:20px" class="right">
        <script type="text/javascript" charset="utf-8">
          (function(){
            var _w = 86 , _h = 16;
            var param = {
              url:location.href,
              type:'6',
              count:'', /**是否显示分享数，1显示(可选)*/
              appkey:'', /**您申请的应用appkey,显示分享来源(可选)*/
              title:'', /**分享的文字内容(可选，默认为所在页面的title)*/
              pic:'', /**分享图片的路径(可选)*/
              ralateUid:'1823913804', /**关联用户的UID，分享微博会@该用户(可选)*/
              language:'zh_cn', /**设置语言，zh_cn|zh_tw(可选)*/
              rnd:new Date().valueOf()
            }
            var temp = [];
            for( var p in param ){
              temp.push(p + '=' + encodeURIComponent( param[p] || '' ) )
            }
            document.write('<iframe allowTransparency="true" frameborder="0" scrolling="no" src="http://hits.sinajs.cn/A1/weiboshare.html?' + temp.join('&') + '" width="'+ _w+'" height="'+_h+'"></iframe>')
          })()
        </script>
      </div>
      <a href="#" class="comment" onclick="return false;">点击查看评论</a>
      <div id="disqus_thread"></div>
    </div>
  </div>

  <div class="sidenav">
    <iframe width="100%" height="75" class="share_self"  frameborder="0" scrolling="no" src="http://widget.weibo.com/weiboshow/index.php?language=zh_cn&width=0&height=550&fansRow=2&ptype=1&speed=0&skin=1&isTitle=0&noborder=0&isWeibo=0&isFans=0&uid=1823913804&verifier=b193b9de&dpc=1"></iframe>
  </div>

  <div class="sidenav">
    <h2>Code</h2>
    <ul class="artical-list">
      
      <li><a href="/code/git-flow">Git Flow</a></li>
      
      <li><a href="/code/vpn-routes">VPN Routes设置 让国内网站速度快点</a></li>
      
      <li><a href="/code/Tail_Recursion">尾递归浅析</a></li>
      
      <li><a href="/code/learn-ruby">Ruby的<=>运算符</a></li>
      
      <li><a href="/code/hhkb-professional-2-type-s">HHKB Professional 2 Type S</a></li>
      
      <li><a href="/code/learn_golang">Go在谷歌：以软件工程为目的的语言设计</a></li>
      
      <li><a href="/code/setup">起航:   jekyll编写博客</a></li>
      
    </ul>

    <h2>Life</h2>
    <ul class="artical-list">
      
      <li><a href="/life/notitle">无题</a></li>
      
      <li><a href="/life/officer">官人来访(Officer)</a></li>
      
      <li><a href="/life/ugly">Ugly Notice</a></li>
      
      <li><a href="/life/Youth">Youth</a></li>
      
      <li><a href="/life/International-labor-day">International Labor Day</a></li>
      
      <li><a href="/life/Earthquake">Earthquake</a></li>
      
    </ul>

    <h2>Project</h2>
    <ul class="artical-list">
      
    </ul>
  </div>
</div>

<script src="/js/post.js" type="text/javascript"></script>


		<!--*********************************************************-->
		<!--****** 宝贝儿，看见这个时候，删掉下面的统计代码哦~ ******-->
		<!--************* 再推荐下我的第一篇博客哦~~ ****************-->
		<!--*********************************************************-->

		<!--<div class="hide">-->
			<!--<script type="text/javascript" src="http://js.tongji.linezing.com/2727758/tongji.js"></script>-->
			<!--<noscript><a href="http://www.linezing.com"><img src="http://img.tongji.linezing.com/2727758/tongji.gif"/></a></noscript>-->
			<!--</div>-->

		<script type="text/javascript">
			$(function(){
				$('.home-follow').click(function(e){
					e.preventDefault();
					if($('.home-contact').is(':visible')){
						$('.home-contact').slideUp(100);
					}else{
						$('.home-contact').slideDown(100);
					}
				});
			})
		</script>
	</body>
</html>
